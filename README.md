# 双色球
## 双色球介绍
* 每周二、四、日晚8点（20:00）停售，晚上9:30（21:30）开奖；

## 系统功能
每一期根据规则挑选出一个理想的投注；并发短信

## 已经梳理出的规则

### 红球
#### 历史数据
* 1000次，每个球平均出现181次，1000次时，基本平均；

#### 结论
* 近100期，出现>=30次的球，不再选；
* 近100期，出现<=8次的球，直接选；
* 连接出现6次，不再选；
* 连续缺失22次，直接选；
* 根据历史所有期的出现次数运算，得出每个球的权重，出现的越多，权重越小；
* 已经出现过的结果，直接放弃；

### 蓝球
#### 历史数据
* 1000次，每个球平均出现62.5次，1000次时，基本平均； 

#### 结论
* 近100期，出现超过15次的球，不再选；
* 近100期，出现少于1次的球，直接选；
* 连接出现4次，不再选；
* 连续缺失60次，直接选；
* 根据历史所有期次出现的次数运算，得出每个球的权重，出现的越多，权重越小；

### 总体
* 已经出现过的中一等奖的号码，不再选；
* 二等奖是否重复出现过：
      * 二等出现过，2次；分别相隔13年和10年；

## 系统配置
### 定时任务
* 每周1，3，5早上8点：从官网获取中奖历史并写入文件；
* 每周1，3，5早上9点：定时判断投注是否中奖；
* 每周1，3，5中午10点：投注本期；

## 官方数据一些功能
### 获取历史数据
* 进入历史数据查询页面：[http://www.cwl.gov.cn/ygkj/wqkjgg/ssq/](http://www.cwl.gov.cn/ygkj/wqkjgg/ssq/)
* 输入期数查询：例如2022001--2022100，在开发者工具里可以看到返回结果（json），保存到项目中即可；
* 每次最多可查询100条；

### 生成全量历史数据
* 从官网获取历史数据，将json格式放到项目中的src/resources/his目录下；
* 在HistoryBetUtils.java中的main方法中添加相应文件，执行即可生成全量历史数据；
* 全量历史数据保存在src/resources/twocolorball目录下，twocolorball.rec即是；

### TODO
* 根据最近缺失次数，不放必选，但添加一定百分比出现次数；
* 根据最近N次，出现次数少于M，则加大随机比重；
* 部署到服务器上